<!DOCTYPE HTML>
<html>
	<head>
		<title>Matilda Högman - Gameplay Programmer</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<style>
			:root {
				--bubble-start-position: 300vh; /* Default position */
			}
		</style>
	</head>
	<body class="landing is-preload">
		<div id="page-wrapper">

			<!-- Header -->
				<header id="header" class="alt">
					<h1><a href="index.html">Portfolio by Matilda Högman</a></h1>
					<nav id="nav">
						<ul>
							<li><a href="index.html">Home</a></li>
							<li>
								<a href="#">Highlights<i class="icon solid fab fa-angle-down" style="color: #E0DFCC; padding-left: 0.25em;"></i></a>
								<ul>
									<li><a href="specialization.html">Super Mario 64 Character Controller</a></li>
									<li><a href="gun.html">Multi-Purpose Gun Utilizing PhysX</a></li>
								</ul>
							</li>
							<li><a href="groupprojects.html">Group Projects</a></li>
							<li><a href="aboutme.html">About Me</a></li>
							<li>
								<a href="https://www.linkedin.com/in/matilda-h%C3%B6gman-739584194/" target="_blank" class="fab fa-linkedin" style="font-size: 1.75em; color:#E0DFCC; padding-left: 0.1em; padding-right: 0.1em;"></a>
							</li>
							<li>
								<a href="mailto:matildahogman@gmail.com" target="_blank" style="padding-left: 0.1em; padding-right: 0.1em; vertical-align: middle;"><img src="images/Email Icon White.png" alt="" style="width: 2em; height: 1.9em;"/></a>
							</li>
							<li>
								<a href="files/CV - Matilda Högman.pdf" target="_blank" style="padding-left: 0.1em; padding-right: 0.1em; vertical-align: middle;"><img src="images/CV Icon White.png" alt="" style="width: 1.35em; height: 1.9em;"/></a>
							</li>
						</ul>						
					</nav>
				</header>

			<!-- Banner -->
			<section id="banner">
				<h2 class="specialtitle" style="color:#E0DFCC;">Matilda Högman</h2>
				<!-- <p style="margin-top: 1em;">Gameplay Programmer</p> -->
				<p class="specialsubtitle" style="color:#FFC500; margin-top: 1em;">GAMEPLAY PROGRAMMER</p>
			</section>

				<!-- Bubbles Effect -->
				<div class="container">
					<div class="bubbles">
						<span style="--i:11;"></span>
						<span style="--i:12;"></span>
						<span style="--i:24;"></span>
						<span style="--i:10;"></span>
						<span style="--i:14;"></span>
						<span style="--i:23;"></span>
						<span style="--i:18;"></span>
						<span style="--i:16;"></span>
						<span style="--i:19;"></span>
						<span style="--i:20;"></span>
						<span style="--i:22;"></span>
						<span style="--i:25;"></span>
						<span style="--i:18;"></span>
						<span style="--i:21;"></span>
						<span style="--i:15;"></span>
						<span style="--i:13;"></span>
						<span style="--i:26;"></span>
						<span style="--i:17;"></span>
						<span style="--i:13;"></span>
						<span style="--i:28;"></span>
						<span style="--i:11;"></span>
						<span style="--i:12;"></span>
						<span style="--i:24;"></span>
						<span style="--i:10;"></span>
						<span style="--i:14;"></span>
						<span style="--i:23;"></span>
						<span style="--i:18;"></span>
						<span style="--i:16;"></span>
						<span style="--i:19;"></span>
						<span style="--i:20;"></span>
						<span style="--i:22;"></span>
						<span style="--i:25;"></span>
						<span style="--i:18;"></span>
						<span style="--i:21;"></span>
						<span style="--i:15;"></span>
						<span style="--i:13;"></span>
						<span style="--i:26;"></span>
						<span style="--i:17;"></span>
						<span style="--i:13;"></span>
						<span style="--i:28;"></span>

					</div>
				</div>

			<!-- Main -->
				<section id="main" class="container" style="width: calc(100% - 5em); padding-top: 1em; padding-bottom: 0em;">
					<section class="box special headline" style="justify-self: center; max-width: -webkit-fill-available;">
						<header class="major">
							<h3 style="color: #E0DFCC; font-family: 'Press Start 2P', Consolas, sans-serif; font-size: 1.5em;">Super Mario 64 Character Controller</h3>
						</header>								
						<span class="image featured" style="width: auto; display: contents;"><img src="images/specialisation.gif" alt="" style="max-height: 28em; width: -webkit-fill-available; justify-self: center; padding: 2em;"/></span>
					</section>


					<section class="box special">
						<div class="row">
							<div class="col-12">
								<h3 style="text-align: left; color: #E0DFCC; font-family: 'Press Start 2P', Consolas, sans-serif; font-size: 1.4em;">Introduction</h3>
								<p style="text-align: left; margin-bottom: 0px;">
									I developed this project during the specialization course at The Game Assembly, where we create a focused programming project for our portfolios. I chose to make a 3D character controller for several reasons. First and foremost, I wanted to return to my roots — where my passion for games began: the Nintendo 64. Nothing has influenced my love for games more than those early days, playing Mario with my brother and childhood friends, with my mother translating clues as we searched for new stars. Those are some of my most cherished memories.
								  </p>
								  
								  <p style="text-align: left; margin-bottom: 0px;">
									Technically, I had never created a 3D character controller outside of Unity, and I had limited experience with PhysX. This project became the perfect opportunity to both challenge myself and to build something deeply personal.
								  </p>
								  
								  <p style="text-align: left; margin-bottom: 0px;">
									To keep the project within a realistic scope, I began by identifying which mechanics I definitely wanted to implement, which ones to cut entirely, and which would be considered “wish features” — features I’d love to include if time allowed.
								  </p>
								  <br>
								  <p style="text-align: left; margin-bottom: 0px;">Things I definitely wanted to implement:</p>
								  <ul style="text-align: left; padding-left: 40px;">
									<li>Controller-based movement utilising an inputmapper</li>
									<li>Single, double, and triple jump</li>
									<li>Back flip</li>
									<li>Duck</li>
									<li>Long jump</li>
									<li>Ground pound</li>
								  </ul>
								  
								  <p style="text-align: left; margin-bottom: 0px;">Wish features:</p>
								  <ul style="text-align: left; padding-left: 40px;">
									<li>Ledge grab</li>
									<li>Ledge climb/drop off</li>
									<li>Ledge “traversal” (sideways movement whilst ledge grabbing, including falling off when the ledge ends)</li>
								  </ul>
								  
								  <p style="text-align: left; margin-bottom: 0px;">
									I ended up having the time to implement all of this, with a good understanding of how I could further implement the rest of the Super Mario 64 character controller mechanics. 
									<br><br>
									The controller was developed in our own game engine, Dream Engine, created by our project group.
								  </p>
							</div>
						</div>
					</section>

					<section class="box special">
						<div class="row">
							<div class="col-12">
								<h3 style="text-align: left; color: #E0DFCC; font-family: 'Press Start 2P', Consolas, sans-serif; font-size: 1.4em;">Player Overview</h3>
								<img src="images/marioplayer.png" alt="" style="max-width: 1000px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 2em;"/>
								<p style="text-align: left; margin-bottom: 0px; margin-top: 1em;">An overview of the player class. The Observer inheritance is required for the inputmapper, Receive() is where all inputs are received.</p>
							</div>
						</div>
					</section>

					<section class="box special">
						<div class="row">
							<div class="col-12">
								<h3 style="text-align: left; color: #E0DFCC; font-family: 'Press Start 2P', Consolas, sans-serif; font-size: 1.4em;">PhysX Setup</h3>
								<img src="images/marioinit.png" alt="" style="max-width: 1500px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 2em;"/>

								<p style="text-align: left; margin-bottom: 0px; margin-top: 1em;">This code sets up the physics body for the player character using NVIDIA PhysX. It creates a dynamic rigid body with a capsule shape, which is ideal for smooth character movement and to avoid catching on geometry edges. The capsule is configured with custom collision filtering so it only interacts with relevant layers, like the environment.
									<br><br>
									To ensure the capsule stands upright (since PhysX capsules are horizontal by default), I rotate it 90 degrees around the Z-axis. I also lock all angular motion to prevent the body from tipping over during simulation, keeping the player upright at all times.
									<br><br>
									Mass and inertia are automatically computed based on the configured mass, and the body is registered with the PhysX scene. 
									<br><br>
									Finally, it's linked to the entity's RigidBodyComponent so that gameplay systems can interact with the physics representation.</p>
							</div>
						</div>
					</section>


					<section class="box special">
						<div class="row">
							<div class="col-12">
								<h3 style="text-align: left; color: #E0DFCC; font-family: 'Press Start 2P', Consolas, sans-serif; font-size: 1.4em;">Jumps</h3>
								<p style="text-align: left; margin-bottom: 0px; margin-top: 1em;">This is inside the player's Update function, where input flags along with other conditionals determine which jump should be triggered.</p>
								<img src="images/mariojumpinputs.png" alt="" style="max-width: 1000px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 1em;"/>

								<br><br>
								<p style="text-align: left; margin-bottom: 0px; margin-top: 0em;">This is the TriggerJump function, where the jumps are done by manipulating the player's PxRigidDynamic.
									<img src="images/mariotriggerjump.png" alt="" style="max-width: 1000px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 1em;"/>

								</p>
								<br><br>
								<p style="text-align: left; margin-bottom: 0px; margin-top: 0em;">This is the CheckIfGrounded function, which works by shooting a ray downwards and returning true if the surface hit is near-enough horizontal.
									<img src="images/mariogroundcheck.png" alt="" style="max-width: 1000px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 1em;"/>

								</p>

							</div>
						</div>
					</section>

					<section class="box special">
						<div class="row">
							<div class="col-12">
								<h3 style="text-align: left; color: #E0DFCC; font-family: 'Press Start 2P', Consolas, sans-serif; font-size: 1.4em;">Ground Pound & Ledge Climb</h3>
								<p style="text-align: left; margin-bottom: 0px; margin-top: 1em;">This is also inside the player's Update function, just below the isGrounded check shown above, thereby checking for mid-air inputs instead.</p>
								<img src="images/mariomidairjumpinputs.png" alt="" style="max-width: 1000px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 1em;"/>

								<br><br>
								<p style="text-align: left; margin-bottom: 0px; margin-top: 0em;">This is the triggering and releasing of the Ground Pound, mimicking how Mario does a little somersault that momentarily locks him in place mid-air before slamming downwards.
									<img src="images/groundpound.png" alt="" style="max-width: 800px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 0.5em; margin-bottom: 2em;"/>
									In the Update function, this is the timer for the mid-air pause Mario does as he starts a Ground Pound. Once it's done, the ReleaseGroundPound function is called, which is what slams the player downwards.
									<img src="images/groundpoundairtimer.png" alt="" style="max-width: 400px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 0em;"/>

								</p>
								<br><br>
								<p style="text-align: left; margin-bottom: 0px; margin-top: 0em;">After ledge grabbing (shown further down), this is how I handled the climbing of ledges, which is triggered by doing forward or jump input whilst ledge grabbing.
									<img src="images/ledgeclimb.png" alt="" style="max-width: 1200px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 1em;"/>
								</p>

							</div>
						</div>
					</section>

					<section class="box special">
						<div class="row">
							<div class="col-12">
								<h3 style="text-align: left; color: #E0DFCC; font-family: 'Press Start 2P', Consolas, sans-serif; font-size: 1.4em;">Ledge Grab</h3>
								<p style="text-align: left; margin-bottom: 0px; margin-top: 1em;">The contents of this GIF were all wish-features for my specialisation, and I'm pretty happy with how they turned out. Displayed is: ledge grabbing, letting go by doing backwards input, climbing up by doing forward or jump input, movement while ledgegrabbing (locked to right/left), and finally, falling off if the ledge ends.</p>
								<img src="images/ledgegrab.gif" alt="" style="max-width: 1000px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 1em;"/>

								<br><br>
								<p style="text-align: left; margin-bottom: 0px; margin-top: 0em;"> Inside of the player's Update function, this is how the ledge grab is triggered.
									<img src="images/marioledgegrab.png" alt="" style="max-width: 800px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 1em;"/>
								</p>
								<br><br>
								<p style="text-align: left; margin-bottom: 0px; margin-top: 0em;">This is the CheckIfNearAndFacingLedge function, which is a prerequisite to ledge grab being triggered.
									<img src="images/mariocheckifnearwall.png" alt="" style="max-width: 1200px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 1em;"/>
									It works by shooting two rays, one from around knee-height and one from around chest-height. Should the upper one miss, and the lower one hit a surface that is near-enough facing the player directly (close to &nbsp;-1), the check returns true.
								</p>
								<br><br>
								<p style="text-align: left; margin-bottom: 0px; margin-top: 0em;"> Once the ledge grab is triggered, the player is automatically rotatedto face the ledge. This step ensures that the sideways movement available during ledge grabbing happens cleanly along the ledge’s surface, rather than at an angle. Without this adjustment, the player could slowly drift away during traversal, eventually falling due to lost contact with the ledge.
									<img src="images/marioturntowards.png" alt="" style="max-width: 1500px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 1em;"/>
									The method calculates the closest point on the ledge's bounding box and uses that to determine a direction vector. It then applies a yaw rotation to both the player and the camera so they align with the ledge surface. While this solution works, it was a last-minute implementation and currently results in a somewhat choppy or abrupt turn.
									With more time, I would have interpolated the rotation to create a smoother, more natural transition — both visually and mechanically.
								</p>

							</div>
						</div>
					</section>

					<section class="box special">
						<div class="row">
							<div class="col-12">
								<h3 style="text-align: left; color: #E0DFCC; font-family: 'Press Start 2P', Consolas, sans-serif; font-size: 1.4em;">Movement</h3>
								<p style="text-align: left; margin-bottom: 0px; margin-top: 0em;"> This is inside the Receive function, where all inputs from the inputmapper are handled.
									<img src="images/marioreceivemove.png" alt="" style="max-width: 900px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 1em;"/>
									Movement is enabled by myStats.shouldMove flag is set to true. The movement direction is extracted from the message and converted to floating-point values, then normalized by dividing by 100 and stored in myStats.moveDirection to control the player's movement.
								</p>
								<br>
								<p style="text-align: left; margin-bottom: 0px; margin-top: 0em;"> Inside of the player's Update function, movement inputs are handled and different functions are called based on flags and conditionals.
									<img src="images/mariomovement.png" alt="" style="max-width: 500px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 0.5em;"/>
								</p>
								<br>
								<h4 style="text-align: left; font-size: 0.9em; margin-top: 2em;font-family: 'Press Start 2P'">Grounded Movement</h4>
								<p style="text-align: left; margin-bottom: 0px; margin-top: 1em;">This function handles the player’s grounded movement by adjusting its physics body’s linear velocity. If the player is ducking, the function exits early. It calculates the movement speed based on the input magnitude and clamps it to the maximum allowed speed. The player’s movement direction is determined by combining the forward and right vectors of the player’s transform, which are then scaled by the movement speed. Finally, the player's linear velocity is updated, keeping the vertical velocity unchanged.

								</p>
								<img src="images/mariogroundmovement.png" alt="" style="max-width: 1000px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 0.5em;"/>

								<br><br>
								<p style="text-align: left; margin-bottom: 0px; margin-top: 0em;"> This function controls the player's movement when they are grounded but not receiving movement inputs, as well as when the player is ledge grabbing and moving sideways. In its essence, it stops the player. 									
									<img src="images/mariogroundedfriction.png" alt="" style="max-width: 1000px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 0.5em;"/>
									It calculates the horizontal velocity and applies friction to slow the player down. If the velocity gets too low, it stops the player from sliding.
									The function also applies a force to counteract unwanted horizontal movement caused by gravity, which ensures the player stays grounded. Finally, the updated velocity is applied to the player's physics body, keeping the vertical movement (gravity) intact while controlling the horizontal movement.
								</p>
								<br><br>
								<h4 style="text-align: left; font-size: 0.9em; margin-top: 2em;font-family: 'Press Start 2P'">Mid-air Movement</h4>
								<p style="text-align: left; margin-bottom: 0px; margin-top: 1em;">This function controls the player's movement while in the air.
									<img src="images/mariomidairmovement.png" alt="" style="max-width: 1500px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 0.5em;"/>
									It calculates the desired movement speed based on the player's input and applies it in the direction the player is trying to move. The function also adjusts the movement by applying dampening forces, which make the player’s movement feel more natural as they spend more time in the air.
									It combines the desired movement with the player's current velocity, taking into account how long they've been airborne, and then applies a force to the player’s physics body to control their movement in the air. all of this is done to create smooth and responsive air control while limiting excessive movement.									
								</p>
								<br><br>
								<h4 style="text-align: left; font-size: 0.9em; margin-top: 2em;font-family: 'Press Start 2P'">Ledge Grab Movement</h4>
								<p style="text-align: left; margin-bottom: 0px; margin-top: 1em;">This function is called when the player does sideways input while ledge grabbing and works very similarly to the regular grounded movement, except it only handles left/right movement.
									<img src="images/mariosidewaysmovement.png" alt="" style="max-width: 1500px;  width: -webkit-fill-available; border: 1px solid rgb(100, 100, 100); justify-self: center; display: block; margin-top: 0.5em;"/>
									
								</p>
								

							</div>
						</div>
					</section>

					<section class="box special">
						<div class="row">
							<div class="col-12">
								<h3 style="text-align: left; color: #E0DFCC; font-family: 'Press Start 2P', Consolas, sans-serif; font-size: 1.4em;">Conclusion</h3>
								<p style="text-align: left; margin-bottom: 0px; margin-top: 1em;">All in all, I am satisfied with the player controller. I would've liked to add animations and models to further realise my vision, but I'm happy with what I've learnt and feel that implementing the rest of Super Mario 64's character controller would be an easy task given more time.
									<br><br>
									The code could certainly use some refactoring, my main concern was to keep it readable enough while also being mindful of how I spend my time. My goal was to implement mechanics and make sure they work as intended, which I feel I have done fairly well.
								</p>
							</div>
						</div>
					</section>
				</section>

			<!-- Footer -->
				<footer id="footer">
					<ul style="list-style-type: none;">
						<li>
							<a href="https://www.linkedin.com/in/matilda-h%C3%B6gman-739584194/" target="_blank" class="fab fa-linkedin" style="font-size: 1.75em; color:#E0DFCC; padding-left: 0.1em; padding-right: 0.1em; border-bottom: none; vertical-align: middle;"></a>
							<a href="mailto:matildahogman@gmail.com" target="_blank" style="padding-left: 0.1em; padding-right: 0.1em; vertical-align: middle; border-bottom: none; vertical-align: middle;"><img src="images/Email Icon White.png" alt="" style="width: 2em; height: 1.9em; vertical-align: middle;"/></a>
							<a href="files/CV - Matilda Högman.pdf" target="_blank" style="padding-left: 0.1em; padding-right: 0.1em; vertical-align: middle; border-bottom: none; vertical-align: middle;"><img src="images/CV Icon White.png" alt="" style="width: 1.35em; height: 1.9em; vertical-align: middle;"/></a>
						</li>
					</ul>
					<ul class="copyright" style="list-style-type: none;">
						<li>Portfolio by Matilda Högman</li><li>Website design based on a template by <a href="http://html5up.net" target="_blank">HTML5 UP</a></li>
					</ul>
				</footer>

		</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.dropotron.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>